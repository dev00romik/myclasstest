<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Чат класу</title>
   <script src="https://www.gstatic.com/firebasejs/9.x/firebase-app.js"></script>
   <script src="https://www.gstatic.com/firebasejs/9.x/firebase-database.js"></script>
   <style>
      body {
         font-family: 'Arial', sans-serif;
         background-color: #f0f0f0;
         margin: 0;
         height: 100vh; /* Висота на всю сторінку */
         display: flex;
         justify-content: center;
         align-items: center;
      }
      #chatContainer {
         width: 600px;               /* Ширина на всю сторінку */
         height: 600px;              /* Висота на всю сторінку */
         max-width: 600px;         /* Максимальна ширина */
         background-color: #ffffff;
         border-radius: 8px;
         box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
         display: flex;
         flex-direction: column;
      }
      #chatBox { 
         flex-grow: 1;             /* Займає всю доступну висоту */
         overflow-y: auto; 
         padding: 10px; 
         border-top: 1px solid #e0e0e0; 
         background-color: #f9f9f9; 
      }
      #message { 
         flex-grow: 1; 
         padding: 10px; 
         border: 1px solid #ccc; 
         border-radius: 5px; 
         margin-right: 5px; 
         font-size: 14px; 
      }
      #sendBtn { 
         background-color: #007bff; 
         color: white; 
         border: none; 
         border-radius: 5px; 
         cursor: pointer; 
         padding: 10px; 
         font-size: 14px; 
         transition: background-color 0.3s;
      }
      #sendBtn:hover {
         background-color: #0056b3; 
      }
      .message {
         margin: 5px 0;
         padding: 10px;
         border-radius: 15px;
         background-color: #e1f5fe; 
         max-width: 80%;
         word-wrap: break-word;
         position: relative;
      }
      .message.sent {
         background-color: #dcf8c6; 
         margin-left: auto;
      }
      .message.received {
         background-color: #e1f5fe; 
      }
   </style>
</head>
<body>
   <div id="chatContainer">
      <div id="chatBox"></div>
      <div style="display: flex; padding: 10px;">
         <input type="text" id="message" placeholder="Напишіть повідомлення" required>
         <button id="sendBtn" onclick="sendMessage()">Відправити</button>
      </div>
   </div>

   <script>
      // Ініціалізація Firebase
      const firebaseConfig = {
         apiKey: "ВАШ_API_KEY",
         authDomain: "ВАШ_AUTH_DOMAIN",
         databaseURL: "ВАШ_DATABASE_URL",
         projectId: "ВАШ_PROJECT_ID",
         storageBucket: "ВАШ_STORAGE_BUCKET",
         messagingSenderId: "ВАШ_MESSAGING_SENDER_ID",
         appId: "ВАШ_APP_ID"
      };
      const app = firebase.initializeApp(firebaseConfig);
      const db = firebase.database();

      // Відправка повідомлення
      function sendMessage() {
         const messageInput = document.getElementById("message");
         const message = messageInput.value;
         if (message) {
            db.ref("messages").push().set({ message: message, type: "sent" });
            messageInput.value = ""; // Очищення поля
         }
      }

      // Отримання повідомлень
      db.ref("messages").on("child_added", function(snapshot) {
         const msgData = snapshot.val();
         const chatBox = document.getElementById("chatBox");
         const msgDiv = document.createElement("div");
         msgDiv.classList.add("message", msgData.type === "sent" ? "sent" : "received");
         msgDiv.textContent = msgData.message;
         chatBox.appendChild(msgDiv);
         chatBox.scrollTop = chatBox.scrollHeight; // Прокрутка вниз
      });
   </script>
</body>
</html>