<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–†–æ–∑–∫–ª–∞–¥ —Ç–∞ —É—á–Ω—ñ</title>
  <style>
    :root {
      --bg: #eef3f9;
      --text: #222;
      --card-bg: rgba(255, 255, 255, 0.6);
      --header-bg: #2d89ef;
      --header-text: #fff;
      --row-alt: rgba(240, 245, 255, 0.6);
      --row-hover: rgba(45, 137, 239, 0.1);
      --day-bg: rgba(200, 220, 255, 0.4);
      --shadow-light: #ffffff;
      --shadow-dark: #c8d0e7;
    }
    body.dark {
      --bg: #121212;
      --text: #eee;
      --card-bg: rgba(30, 30, 30, 0.6);
      --header-bg: #1f6feb;
      --header-text: #fff;
      --row-alt: rgba(40, 40, 40, 0.6);
      --row-hover: rgba(255,255,255,0.05);
      --day-bg: rgba(60, 60, 60, 0.6);
      --shadow-light: #1e1e1e;
      --shadow-dark: #000;
    }

    body {
      font-family: "Inter", "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 20px;
      transition: background 0.4s, color 0.4s;
    }
    h1, h2 {
      text-align: center;
      margin: 20px 0;
    }

    .theme-toggle {
      display: block;
      margin: 0 auto 20px;
      padding: 10px 20px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      background: var(--header-bg);
      color: var(--header-text);
      font-size: 14px;
      font-weight: 600;
      box-shadow: 4px 4px 10px var(--shadow-dark), -4px -4px 10px var(--shadow-light);
      transition: 0.3s;
    }
    .theme-toggle:hover {
      transform: scale(1.05);
      opacity: 0.9;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: var(--card-bg);
      border-radius: 16px;
      margin-bottom: 30px;
      overflow: hidden;
      backdrop-filter: blur(12px);
      box-shadow: 8px 8px 20px var(--shadow-dark), -8px -8px 20px var(--shadow-light);
      transition: 0.3s;
    }
    thead {
      background: var(--header-bg);
      color: var(--header-text);
    }
    th, td {
      padding: 12px;
      text-align: center;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      font-size: 14px;
    }
    th {
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    tbody tr:nth-child(even) {
      background: var(--row-alt);
    }
    tbody tr:hover {
      background: var(--row-hover);
    }
    .day {
      font-weight: bold;
      text-align: left;
      background: var(--day-bg);
    }
    .checkmark {
      color: green;
      font-weight: bold;
    }

    @media (max-width: 768px) {
      th, td {
        font-size: 12px;
        padding: 8px;
      }
      h1, h2 {
        font-size: 20px;
      }
    }

    td[contenteditable] {
      background: rgba(255,255,255,0.2);
    }
  </style>
</head>
<body>
  <h1>üìÖ –†–æ–∑–∫–ª–∞–¥</h1>
  <button class="theme-toggle" onclick="toggleTheme()">üåó –ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ç–µ–º—É</button>

  <!-- –¢–∞–±–ª–∏—Ü—è —Ä–æ–∑–∫–ª–∞–¥—É -->
  <table id="schedule">
    <thead>
      <tr>
        <th>–î–µ–Ω—å</th>
        <th>–í—Ö—ñ–¥</th>
        <th>9 –∫–∞–±</th>
        <th>–£—á–∏—Ç., —ñ–Ω—Ñ.</th>
        <th>23 –∫–∞–±</th>
        <th>32 –∫–∞–±</th>
        <th>26 –∫–∞–±</th>
        <th>–á–¥–∞–ª—å–Ω—è</th>
        <th>2 –∫–∞–±</th>
        <th>–ü—Å–∏—Ö –∫–∞–±</th>
      </tr>
    </thead>
<tbody>
  <tr>
    <td class="day">–ü–æ–Ω–µ–¥—ñ–ª–æ–∫</td>
    <td contenteditable="true">3 20</td>
    <td contenteditable="true">19 15</td>
    <td contenteditable="true">10 14</td>
    <td contenteditable="true">8 9</td>
    <td contenteditable="true">5 2</td>
    <td contenteditable="true">11 13</td>
    <td contenteditable="true">7 6</td>
    <td contenteditable="true">4 17</td>
    <td contenteditable="true">16 18</td>
  </tr>
  <tr>
    <td class="day">–í—ñ–≤—Ç–æ—Ä–æ–∫</td>
    <td contenteditable="true">5 2</td>
    <td contenteditable="true">10 </td>
    <td contenteditable="true">8 9</td>
    <td contenteditable="true">7</td>
    <td contenteditable="true">14</td>
    <td contenteditable="true">3 20</td>
    <td contenteditable="true">4 17</td> <!-- —É–º–æ–≤–∞ -->
    <td contenteditable="true">11 13</td>
    <td contenteditable="true">6</td>
  </tr>
  <tr>
    <td class="day">–°–µ—Ä–µ–¥–∞</td>
    <td contenteditable="true">10 6</td>
    <td contenteditable="true">8 9</td>
    <td contenteditable="true">5 2</td>
    <td contenteditable="true">7 14</td>
    <td contenteditable="true">19 15</td>
    <td contenteditable="true">16 18</td>
    <td contenteditable="true">16 18</td> <!-- —É–º–æ–≤–∞ -->
    <td contenteditable="true">16 18</td>
    <td contenteditable="true">11 13</td>
  </tr>
  <tr>
    <td class="day">–ß–µ—Ç–≤–µ—Ä</td>
    <td contenteditable="true">5 2</td>
    <td contenteditable="true">15 19</td>
    <td contenteditable="true">7 14</td>
    <td contenteditable="true">16 18</td>
    <td contenteditable="true">10 6</td>
    <td contenteditable="true">4 17</td>
    <td contenteditable="true">11 13</td> <!-- —É–º–æ–≤–∞ -->
    <td contenteditable="true">3 20</td>
    <td contenteditable="true">8 9</td>
  </tr>
  <tr>
    <td class="day">–ü º—è—Ç–Ω–∏—Ü—è</td>
    <td contenteditable="true">5 2</td>
    <td contenteditable="true">7 14</td>
    <td contenteditable="true">19 15</td>
    <td contenteditable="true">10 6</td>
    <td contenteditable="true">8 9</td>
    <td contenteditable="true">11 13</td>
    <td contenteditable="true">3 20</td> <!-- —É–º–æ–≤–∞ -->
    <td contenteditable="true">4 17</td>
    <td contenteditable="true">3 20</td>
  </tr>
</tbody>
  </table>

  <!-- –¢–∞–±–ª–∏—Ü—è —É—á–Ω—ñ–≤ -->
  <h2>üë®‚Äçüéì –°–ø–∏—Å–æ–∫ —É—á–Ω—ñ–≤</h2>
  <table id="students">
    <thead>
      <tr>
        <th>‚Ññ</th>
        <th>–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ —ñ–º‚Äô—è</th>
        <th>–ß–µ—Ä–≥—É–≤–∞–Ω–Ω—è</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>1</td><td>–ë–µ—Ä–µ–∑—é–∫ –ê–Ω–Ω–∞</td><td class="status"></td></tr>
      <tr><td>2</td><td>–ë–æ–∂–∞–∫ –ë–æ–≥–¥–∞–Ω</td><td class="status"></td></tr>
      <tr><td>3</td><td>–ì–∞–≤—Ä–∏–ª–∫–æ –î—ñ–∞–Ω–∞</td><td class="status"></td></tr>
      <tr><td>4</td><td>–ì—É—à—Ç–∞ –ú–∞–∫—Å–∏–º</td><td class="status"></td></tr>
      <tr><td>5</td><td>–ó–∞–ø—ñ—Å–æ—Ü—å–∫–∏–π –Ü–≤–∞–Ω</td><td class="status"></td></tr>
      <tr><td>6</td><td>–ó–∞—Ä—É—Ü—å–∫–∏–π –î–º–∏—Ç—Ä–æ</td><td class="status"></td></tr>
      <tr><td>7</td><td>–ö–∞–π–¥–∞ –†—É—Å–ª–∞–Ω</td><td class="status"></td></tr>
      <tr><td>8</td><td>–ö–∏—Ä–∏—á–æ–∫ –ú–∞–∫—Å–∏–º</td><td class="status"></td></tr>
      <tr><td>9</td><td>–ö–æ—Ö–º–∞–Ω –°—Ç–∞–Ω—ñ—Å–ª–∞–≤</td><td class="status"></td></tr>
      <tr><td>10</td><td>–ö—É–∑—å–º—è–∫ –Ü–≤–∞–Ω</td><td class="status"></td></tr>
      <tr><td>11</td><td>–ú–∞—Ä—Ü–∏–Ω—é–∫ –ú–∞—Ä º—è–Ω</td><td class="status"></td></tr>
      <tr><td>12</td><td>–ú–æ–Ω—á–∞–∫ –†–æ–º–∞–Ω</td><td class="status"></td></tr>
      <tr><td>13</td><td>–ù–∞–≥–∞–π –ú–∞–∫—Å–∏–º</td><td class="status"></td></tr>
      <tr><td>14</td><td>–ù–∞–≥—ñ—Ä–Ω–∏–π –ú–∞—Ä–∫—ñ—è–Ω</td><td class="status"></td></tr>
      <tr><td>15</td><td>–ù–µ–¥—ñ–ª—å—Å—å–∫–∏–π –û–ª–µ–∫—Å–∞–Ω–¥—Ä</td><td class="status"></td></tr>
      <tr><td>16</td><td>–ü–µ—Ö–Ω–∏–∫ –î–∞–Ω–∏–ª–æ</td><td class="status"></td></tr>
      <tr><td>17</td><td>–ü–ª—ñ—Ö–æ—Ç–∞ –î–µ–Ω–∏—Å</td><td class="status"></td></tr>
      <tr><td>18</td><td>–ü–æ–ª—è–∫ –†–æ–º–∞–Ω</td><td class="status"></td></tr>
      <tr><td>19</td><td>–ß–µ–±–ª—É–∫–æ–≤–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞</td><td class="status"></td></tr>
      <tr><td>20</td><td>–®—É—à–Ω—è–∫ –í—ñ–∫—Ç–æ—Ä—ñ—è</td><td class="status"></td></tr>
    </tbody>
  </table>

  <script>
    function toggleTheme() {
      document.body.classList.toggle("dark");
    }

    // –í—ñ–¥–º—ñ—Ç–∫–∞ —á–µ—Ä–≥—É–≤–∞–Ω—å
    function markDutyStudents() {
      let scheduleCells = document.querySelectorAll("#schedule tbody td");
      let dutyList = [];
      scheduleCells.forEach(cell => {
        let text = cell.textContent.trim();
        if (text && !text.match(/–ü–æ–Ω–µ–¥—ñ–ª–æ–∫|–í—ñ–≤—Ç–æ—Ä–æ–∫|–°–µ—Ä–µ–¥–∞|–ß–µ—Ç–≤–µ—Ä|–ü º—è—Ç–Ω–∏—Ü—è/)) {
          let names = text.split(/, ?/);
          dutyList.push(...names);
        }
      });

      document.querySelectorAll("#students tbody tr").forEach(row => {
        let studentName = row.cells[1].textContent.trim();
        let statusCell = row.querySelector(".status");
        if (dutyList.includes(studentName)) {
          statusCell.innerHTML = "‚úîÔ∏è";
          statusCell.classList.add("checkmark");
        } else {
          statusCell.innerHTML = "";
          statusCell.classList.remove("checkmark");
        }
      });
    }

    // –ó–∞–º—ñ–Ω—è—î–º–æ —Ü–∏—Ñ—Ä–∏ –Ω–∞ —ñ–º–µ–Ω–∞, –º–æ–∂–Ω–∞ –≤–≤–æ–¥–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ü–∏—Ñ—Ä
    function updateScheduleNames() {
      let studentRows = document.querySelectorAll("#students tbody tr");
      let studentMap = {};
      studentRows.forEach(row => {
        let num = row.cells[0].textContent.trim();
        let name = row.cells[1].textContent.trim();
        studentMap[num] = name;
      });

      document.querySelectorAll("#schedule tbody td[contenteditable]").forEach(cell => {
        let text = cell.textContent.trim();
        if (!text) return;

        let parts = text.split(/[, ]+/);
        let names = parts.map(p => studentMap[p] ? studentMap[p] : p);
        cell.textContent = names.join(", ");
      });

      markDutyStudents();
    }

    document.querySelectorAll("#schedule tbody td[contenteditable]").forEach(cell => {
      cell.addEventListener("input", updateScheduleNames);
    });

    document.addEventListener("DOMContentLoaded", updateScheduleNames);
  </script>
</body>
</html>